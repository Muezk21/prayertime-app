# 🕌 Islamic Prayer Times App

A comprehensive Streamlit web application that provides accurate Islamic prayer times based on your location, with optional SMS notifications and beautiful visual display.
This is a modular Streamlit application that provides accurate Islamic prayer times based on your location (browser GPS or manual), supports multiple calculation methods and madhabs, and offers optional SMS notifications via Twilio.


## 📂 Project Structure

islamic-prayer-app/
├── api.py # Aladhan API integration (+ caching)
├── config.py # Constants: method & region maps, prayer order
├── geo.py # Browser GPS + manual location input
├── notifier.py # Twilio SMS client & send_sms() logic
├── ui.py # Streamlit layout & orchestration
├── app.py # Entrypoint: runs ui.main()
├── .env # Local secrets (not tracked by Git)
├── requirements.txt # Python dependencies
├── README.md # This file
└── .gitignore # Ignore .env, logs, pycache/ etc.


---

## ✨ Features

- **Multiple Calculation Methods**  
  Choose from ISNA, MWL, Umm al-Qura, Karachi, and more (see `config.py`).

- **Madhab Selection**  
  Shafi’i (standard) or Hanafi (later Asr) adjustments.

- **Location Input**  
  - 🔵 Browser GPS via HTML5 (mobile & desktop)  
  - ✏️ Manual latitude/longitude fallback

- **Real-Time Display**  
  - 5 daily prayers: Fajr, Dhuhr, Asr, Maghrib, Isha  
  - Additional times (Sunrise, Imsak, etc.) in an expandable section  
  - Current local time & timezone

- **SMS Notifications**  
  - Twilio integration (`notifier.py`)  
  - Send prayer reminders 5 min before time  
  - Clean separation of UI & SMS logic

- **Robust Error Handling**  
  - Graceful fallbacks for geolocation, network/API failures  
  - User-friendly messages with developer logging to `app.log`

---

## 🚀 Quick Start and Take a Peak!

### 1. Clone & Enter Directory

```bash
git clone <your-repo-url>
cd islamic-prayer-app

python -m venv .venv
# macOS/Linux
source .venv/bin/activate
# Windows
.\.venv\Scripts\activate

pip install -r requirements.txt

TWILIO_ACCOUNT_SID=ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_TO_PHONE_NUMBER=+0987654321

streamlit run app.py

*****************
    HOW TO USE
*****************
1. Select Location

Default: Browser GPS (prompt appears)

Fallback: enter latitude & longitude manually

2. Choose Calculation Method

Pick from the dropdown (ISNA, MWL, etc.)

3. Select Madhab for Asr

Shafi’i (earlier) or Hanafi (later)

4. View Prayer Times

Organized metric cards with prayer emojis

Expand “Additional Islamic Times” for extra entries

5. Next Prayer & SMS

Next upcoming prayer is highlighted

If within 5 min, click Send SMS Reminder

Success or error message displays

*****************************
    Configuration Details
*****************************

config.py

    METHOD_NAMES: mapping of integer IDs → method names

    REGION_RECS: suggested defaults by region

    PRAYER_ORDER: ordering used for “next prayer” logic

api.py

    fetch_prayer_times(lat, lon, method, school)

    Caches results for 1 hour via @st.cache_data

geo.py

    location_ui(): radio selector + GPS/manual input logic

notifier.py

    make_twilio_client(): reads from env, returns (client, frm, to)

    send_sms(prayer, time_str) → (success: bool, message: str)

ui.py

    Orchestrates all components: imports modules, handles flow, error UI

***********************
    Troubleshooting
***********************

    GPS Fails → switch to Manual input

    API Errors → check internet, validate coordinates, retry

    SMS Errors → verify Twilio credentials & phone numbers

    Streamlit Version → use streamlit==1.25.0 in requirements.txt


Contributing

1. Fork & clone

2. Create a feature branch

3. Commit & push

4. Open a pull request

License
This project is licensed under the MIT License. See LICENSE for details.

May Allah accept your efforts and make this tool a benefit to the community. Ameen. 🤲
