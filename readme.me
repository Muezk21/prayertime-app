# ğŸ•Œ Islamic Prayer Times App

A comprehensive Streamlit web application that provides accurate Islamic prayer times based on your location, with optional SMS notifications and beautiful visual display.
This is a modular Streamlit application that provides accurate Islamic prayer times based on your location (browser GPS or manual), supports multiple calculation methods and madhabs, and offers optional SMS notifications via Twilio.


## ğŸ“‚ Project Structure

islamic-prayer-app/
â”œâ”€â”€ api.py # Aladhan API integration (+ caching)
â”œâ”€â”€ config.py # Constants: method & region maps, prayer order
â”œâ”€â”€ geo.py # Browser GPS + manual location input
â”œâ”€â”€ notifier.py # Twilio SMS client & send_sms() logic
â”œâ”€â”€ ui.py # Streamlit layout & orchestration
â”œâ”€â”€ app.py # Entrypoint: runs ui.main()
â”œâ”€â”€ .env # Local secrets (not tracked by Git)
â”œâ”€â”€ requirements.txt # Python dependencies
â”œâ”€â”€ README.md # This file
â””â”€â”€ .gitignore # Ignore .env, logs, pycache/ etc.


---

## âœ¨ Features

- **Multiple Calculation Methods**  
  Choose from ISNA, MWL, Umm al-Qura, Karachi, and more (see `config.py`).

- **Madhab Selection**  
  Shafiâ€™i (standard) or Hanafi (later Asr) adjustments.

- **Location Input**  
  - ğŸ”µ Browser GPS via HTML5 (mobile & desktop)  
  - âœï¸ Manual latitude/longitude fallback

- **Real-Time Display**  
  - 5 daily prayers: Fajr, Dhuhr, Asr, Maghrib, Isha  
  - Additional times (Sunrise, Imsak, etc.) in an expandable section  
  - Current local time & timezone

- **SMS Notifications**  
  - Twilio integration (`notifier.py`)  
  - Send prayer reminders 5 min before time  
  - Clean separation of UI & SMS logic

- **Robust Error Handling**  
  - Graceful fallbacks for geolocation, network/API failures  
  - User-friendly messages with developer logging to `app.log`

---

## ğŸš€ Quick Start and Take a Peak!

### 1. Clone & Enter Directory

```bash
git clone <your-repo-url>
cd islamic-prayer-app

python -m venv .venv
# macOS/Linux
source .venv/bin/activate
# Windows
.\.venv\Scripts\activate

pip install -r requirements.txt

TWILIO_ACCOUNT_SID=ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_TO_PHONE_NUMBER=+0987654321

streamlit run app.py

*****************
    HOW TO USE
*****************
1. Select Location

Default: Browser GPS (prompt appears)

Fallback: enter latitude & longitude manually

2. Choose Calculation Method

Pick from the dropdown (ISNA, MWL, etc.)

3. Select Madhab for Asr

Shafiâ€™i (earlier) or Hanafi (later)

4. View Prayer Times

Organized metric cards with prayer emojis

Expand â€œAdditional Islamic Timesâ€ for extra entries

5. Next Prayer & SMS

Next upcoming prayer is highlighted

If within 5 min, click Send SMS Reminder

Success or error message displays

*****************************
    Configuration Details
*****************************

config.py

    METHOD_NAMES: mapping of integer IDs â†’ method names

    REGION_RECS: suggested defaults by region

    PRAYER_ORDER: ordering used for â€œnext prayerâ€ logic

api.py

    fetch_prayer_times(lat, lon, method, school)

    Caches results for 1 hour via @st.cache_data

geo.py

    location_ui(): radio selector + GPS/manual input logic

notifier.py

    make_twilio_client(): reads from env, returns (client, frm, to)

    send_sms(prayer, time_str) â†’ (success: bool, message: str)

ui.py

    Orchestrates all components: imports modules, handles flow, error UI

***********************
    Troubleshooting
***********************

    GPS Fails â†’ switch to Manual input

    API Errors â†’ check internet, validate coordinates, retry

    SMS Errors â†’ verify Twilio credentials & phone numbers

    Streamlit Version â†’ use streamlit==1.25.0 in requirements.txt


Contributing

1. Fork & clone

2. Create a feature branch

3. Commit & push

4. Open a pull request

License
This project is licensed under the MIT License. See LICENSE for details.

May Allah accept your efforts and make this tool a benefit to the community. Ameen. ğŸ¤²
